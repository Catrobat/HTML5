/*!
* @license SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};(function(){var s=createjs.SoundJS=createjs.SoundJS||{};s.version="0.6.1";s.buildDate="Thu, 21 May 2015 16:17:37 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(a,b){"use strict";function o(){this.constructor=a}o.prototype=b.prototype;return(a.prototype=new o())};this.createjs=this.createjs||{};createjs.promote=function(a,b){"use strict";var c=a.prototype,supP=(Object.getPrototypeOf&&Object.getPrototypeOf(c))||c.__proto__;if(supP){c[(b+="_")+"constructor"]=supP.constructor;for(var n in supP){if(c.hasOwnProperty(n)&&(typeof supP[n]=="function")){c[b+n]=supP[n]}}}return a};this.createjs=this.createjs||{};createjs.indexOf=function(a,b){"use strict";for(var i=0,l=a.length;i<l;i++){if(b===a[i]){return i}}return-1};this.createjs=this.createjs||{};(function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}());this.createjs=this.createjs||{};(function(){"use strict";function BrowserDetect(){throw"BrowserDetect cannot be instantiated";};var a=BrowserDetect.agent=window.navigator.userAgent;BrowserDetect.isWindowPhone=(a.indexOf("IEMobile")>-1)||(a.indexOf("Windows Phone")>-1);BrowserDetect.isFirefox=(a.indexOf("Firefox")>-1);BrowserDetect.isOpera=(window.opera!=null);BrowserDetect.isChrome=(a.indexOf("Chrome")>-1);BrowserDetect.isIOS=(a.indexOf("iPod")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1)&&!BrowserDetect.isWindowPhone;BrowserDetect.isAndroid=(a.indexOf("Android")>-1)&&!BrowserDetect.isWindowPhone;BrowserDetect.isBlackberry=(a.indexOf("Blackberry")>-1);createjs.BrowserDetect=BrowserDetect}());this.createjs=this.createjs||{};(function(){"use strict";function EventDispatcher(){this._listeners=null;this._captureListeners=null}var p=EventDispatcher.prototype;EventDispatcher.initialize=function(a){a.addEventListener=p.addEventListener;a.on=p.on;a.removeEventListener=a.off=p.removeEventListener;a.removeAllEventListeners=p.removeAllEventListeners;a.hasEventListener=p.hasEventListener;a.dispatchEvent=p.dispatchEvent;a._dispatchEvent=p._dispatchEvent;a.willTrigger=p.willTrigger};p.addEventListener=function(a,b,c){var d;if(c){d=this._captureListeners=this._captureListeners||{}}else{d=this._listeners=this._listeners||{}}var e=d[a];if(e){this.removeEventListener(a,b,c)}e=d[a];if(!e){d[a]=[b]}else{e.push(b)}return b};p.on=function(b,c,d,e,f,g){if(c.handleEvent){d=d||c;c=c.handleEvent}d=d||this;return this.addEventListener(b,function(a){c.call(d,a,f);e&&a.remove()},g)};p.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(!d){return}var e=d[a];if(!e){return}for(var i=0,l=e.length;i<l;i++){if(e[i]==b){if(l==1){delete(d[a])}else{e.splice(i,1)}break}}};p.off=p.removeEventListener;p.removeAllEventListeners=function(a){if(!a){this._listeners=this._captureListeners=null}else{if(this._listeners){delete(this._listeners[a])}if(this._captureListeners){delete(this._captureListeners[a])}}};p.dispatchEvent=function(a){if(typeof a=="string"){var b=this._listeners;if(!b||!b[a]){return false}a=new createjs.Event(a)}else if(a.target&&a.clone){a=a.clone()}try{a.target=this}catch(e){}if(!a.bubbles||!this.parent){this._dispatchEvent(a,2)}else{var c=this,list=[c];while(c.parent){list.push(c=c.parent)}var i,l=list.length;for(i=l-1;i>=0&&!a.propagationStopped;i--){list[i]._dispatchEvent(a,1+(i==0))}for(i=1;i<l&&!a.propagationStopped;i++){list[i]._dispatchEvent(a,3)}}return a.defaultPrevented};p.hasEventListener=function(a){var b=this._listeners,captureListeners=this._captureListeners;return!!((b&&b[a])||(captureListeners&&captureListeners[a]))};p.willTrigger=function(a){var o=this;while(o){if(o.hasEventListener(a)){return true}o=o.parent}return false};p.toString=function(){return"[EventDispatcher]"};p._dispatchEvent=function(a,b){var l,listeners=(b==1)?this._captureListeners:this._listeners;if(a&&listeners){var c=listeners[a.type];if(!c||!(l=c.length)){return}try{a.currentTarget=this}catch(e){}try{a.eventPhase=b}catch(e){}a.removed=false;c=c.slice();for(var i=0;i<l&&!a.immediatePropagationStopped;i++){var o=c[i];if(o.handleEvent){o.handleEvent(a)}else{o(a)}if(a.removed){this.off(a.type,o,b==1);a.removed=false}}}};createjs.EventDispatcher=EventDispatcher}());this.createjs=this.createjs||{};(function(){"use strict";function Event(a,b,c){this.type=a;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date()).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var p=Event.prototype;p.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};p.stopPropagation=function(){this.propagationStopped=true};p.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};p.remove=function(){this.removed=true};p.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)};p.set=function(a){for(var n in a){this[n]=a[n]}return this};p.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=Event}());this.createjs=this.createjs||{};(function(){"use strict";function ErrorEvent(a,b,c){this.Event_constructor("error");this.title=a;this.message=b;this.data=c}var p=createjs.extend(ErrorEvent,createjs.Event);p.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(ErrorEvent,"Event")}());this.createjs=this.createjs||{};(function(c){"use strict";function ProgressEvent(a,b){this.Event_constructor("progress");this.loaded=a;this.total=(b==null)?1:b;this.progress=(b==0)?0:this.loaded/this.total};var p=createjs.extend(ProgressEvent,createjs.Event);p.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(ProgressEvent,"Event")}(window));this.createjs=this.createjs||{};(function(){"use strict";function LoadItem(){this.src=null;this.type=null;this.id=null;this.maintainOrder=false;this.callback=null;this.data=null;this.method=createjs.LoadItem.GET;this.values=null;this.headers=null;this.withCredentials=false;this.mimeType=null;this.crossOrigin=null;this.loadTimeout=s.LOAD_TIMEOUT_DEFAULT};var p=LoadItem.prototype={};var s=LoadItem;s.LOAD_TIMEOUT_DEFAULT=8000;s.create=function(a){if(typeof a=="string"){var b=new LoadItem();b.src=a;return b}else if(a instanceof s){return a}else if(a instanceof Object&&a.src){if(a.loadTimeout==null){a.loadTimeout=s.LOAD_TIMEOUT_DEFAULT}return a}else{throw new Error("Type not recognized.");}};p.set=function(a){for(var n in a){this[n]=a[n]}return this};createjs.LoadItem=s}());(function(){var s={};s.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i;s.RELATIVE_PATT=(/^[./]*?\s.EXTENSION_PATT=/\/?[^/]+\.(\w{1,5})$/i;s.parseURI=function(a){var b={absolute:false,relative:false};if(a==null){return b}var c=a.indexOf("?");if(c>-1){a=a.substr(0,c)}var d;if(s.ABSOLUTE_PATT.test(a)){b.absolute=true}else if(s.RELATIVE_PATT.test(a)){b.relative=true}if(d=a.match(s.EXTENSION_PATT)){b.extension=d[1].toLowerCase()}return b};s.formatQueryString=function(a,b){if(a==null){throw new Error('You must specify data.');}var c=[];for(var n in a){c.push(n+'='+escape(a[n]))}if(b){c=c.concat(b)}return c.join('&')};s.buildPath=function(a,b){if(b==null){return a}var c=[];var d=a.indexOf('?');if(d!=-1){var q=a.slice(d+1);c=c.concat(q.split('&'))}if(d!=-1){return a.slice(0,d)+'?'+this._formatQueryString(b,c)}else{return a+'?'+this._formatQueryString(b,c)}};s.isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");c.href=location.href;var d=(b.hostname!="")&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d};s.isLocal=function(a){var b=document.createElement("a");b.href=a.src;return b.hostname==""&&b.protocol=="file:"};s.isBinary=function(a){switch(a){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return true;default:return false}};s.isImageTag=function(a){return a instanceof HTMLImageElement};s.isAudioTag=function(a){if(window.HTMLAudioElement){return a instanceof HTMLAudioElement}else{return false}};s.isVideoTag=function(a){if(window.HTMLVideoElement){return a instanceof HTMLVideoElement}else{return false}};s.isText=function(a){switch(a){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return true;default:return false}};s.getTypeByExtension=function(a){if(a==null){return createjs.AbstractLoader.TEXT}switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case'svg':return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}};createjs.RequestUtils=s}());this.createjs=this.createjs||{};(function(){"use strict";function AbstractLoader(a,b,c){this.EventDispatcher_constructor();this.loaded=false;this.canceled=false;this.progress=0;this.type=c;this.resultFormatter=null;if(a){this._item=createjs.LoadItem.create(a)}else{this._item=null}this._preferXHR=b;this._result=null;this._rawResult=null;this._loadedItems=null;this._tagSrcAttribute=null;this._tag=null};var p=createjs.extend(AbstractLoader,createjs.EventDispatcher);var s=AbstractLoader;s.POST="POST";s.GET="GET";s.BINARY="binary";s.CSS="css";s.IMAGE="image";s.JAVASCRIPT="javascript";s.JSON="json";s.JSONP="jsonp";s.MANIFEST="manifest";s.SOUND="sound";s.VIDEO="video";s.SPRITESHEET="spritesheet";s.SVG="svg";s.TEXT="text";s.XML="xml";p.getItem=function(){return this._item};p.getResult=function(a){return a?this._rawResult:this._result};p.getTag=function(){return this._tag};p.setTag=function(a){this._tag=a};p.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request;this.dispatchEvent(a);this._request.load()};p.cancel=function(){this.canceled=true;this.destroy()};p.destroy=function(){if(this._request){this._request.removeAllEventListeners();this._request.destroy()}this._request=null;this._item=null;this._rawResult=null;this._result=null;this._loadItems=null;this.removeAllEventListeners()};p.getLoadedItems=function(){return this._loadedItems};p._createRequest=function(){if(!this._preferXHR){this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};p._createTag=function(a){return null};p._sendLoadStart=function(){if(this._isCanceled()){return}this.dispatchEvent("loadstart")};p._sendProgress=function(a){if(this._isCanceled()){return}var b=null;if(typeof(a)=="number"){this.progress=a;b=new createjs.ProgressEvent(this.progress)}else{b=a;this.progress=a.loaded/a.total;b.progress=this.progress;if(isNaN(this.progress)||this.progress==Infinity){this.progress=0}}this.hasEventListener("progress")&&this.dispatchEvent(b)};p._sendComplete=function(){if(this._isCanceled()){return}this.loaded=true;var a=new createjs.Event("complete");a.rawResult=this._rawResult;if(this._result!=null){a.result=this._result}this.dispatchEvent(a)};p._sendError=function(a){if(this._isCanceled()||!this.hasEventListener("error")){return}if(a instanceof Error||a instanceof DOMException)a=new createjs.ErrorEvent(a.name+': '+a.message,null,a);else if(a==null){a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")}this.dispatchEvent(a)};p._isCanceled=function(){if(window.createjs==null||this.canceled){return true}return false};p.resultFormatter=null;p.handleEvent=function(b){switch(b.type){case"complete":this._rawResult=b.target._response;var c=this.resultFormatter&&this.resultFormatter(this);var d=this;if(c instanceof Function){c(function(a){d._result=a;d._sendComplete()})}else{this._result=c||this._rawResult;this._sendComplete()}break;case"progress":this._sendProgress(b);break;case"error":this._sendError(b);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":if(!this._isCanceled()){this.dispatchEvent(b.type)}break}};p.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)};p.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(AbstractLoader,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){"use strict";function AbstractMediaLoader(a,b,c){this.AbstractLoader_constructor(a,b,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src"};var p=createjs.extend(AbstractMediaLoader,createjs.AbstractLoader);p.load=function(){if(!this._tag){this._tag=this._createTag(this._item.src)}this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};p._createTag=function(){};p._createRequest=function(){if(!this._preferXHR){this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};p._formatResult=function(a){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;if(this._preferXHR){a.getTag().src=a.getResult(true)}return a.getTag()};createjs.AbstractMediaLoader=createjs.promote(AbstractMediaLoader,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){"use strict";var b=function(a){this._item=a};var p=createjs.extend(b,createjs.EventDispatcher);p.load=function(){};p.destroy=function(){};p.cancel=function(){};createjs.AbstractRequest=createjs.promote(b,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){"use strict";function TagRequest(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=false;this._startTagVisibility=null};var p=createjs.extend(TagRequest,createjs.AbstractRequest);p.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=this._tag;this.dispatchEvent(a);this._hideTag();this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;if(this._tag.parentNode==null){window.document.body.appendChild(this._tag);this._addedToDOM=true}};p.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};p._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;if(a.readyState=="loaded"||a.readyState=="complete"){this._handleTagComplete()}};p._handleError=function(){this._clean();this.dispatchEvent("error")};p._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};p._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};p._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;if(this._addedToDOM&&this._tag.parentNode!=null){this._tag.parentNode.removeChild(this._tag)}clearTimeout(this._loadTimeout)};p._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};p._showTag=function(){this._tag.style.visibility=this._startTagVisibility};p._handleStalled=function(){};createjs.TagRequest=createjs.promote(TagRequest,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){"use strict";function MediaTagRequest(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)};var p=createjs.extend(MediaTagRequest,createjs.TagRequest);var s=MediaTagRequest;p.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b;this._tag.addEventListener("stalled",a);this._tag.addEventListener("progress",b);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,false);this.TagRequest_load()};p._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;if(a.readyState=="loaded"||a.readyState=="complete"){this._handleTagComplete()}};p._handleStalled=function(){};p._handleProgress=function(a){if(!a||a.loaded>0&&a.total==0){return}var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)};p._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(MediaTagRequest,"TagRequest")}());this.createjs=this.createjs||{};(function(){"use strict";function XHRRequest(a){this.AbstractRequest_constructor(a);this._request=null;this._loadTimeout=null;this._xhrLevel=1;this._response=null;this._rawResponse=null;this._canceled=false;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);if(!this._createXHR(a)){}};var p=createjs.extend(XHRRequest,createjs.AbstractRequest);XHRRequest.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];p.getResult=function(a){if(a&&this._rawResponse){return this._rawResponse}return this._response};p.cancel=function(){this.canceled=true;this._clean();this._request.abort()};p.load=function(){if(this._request==null){this._handleError();return}this._request.addEventListener("loadstart",this._handleLoadStartProxy,false);this._request.addEventListener("progress",this._handleProgressProxy,false);this._request.addEventListener("abort",this._handleAbortProxy,false);this._request.addEventListener("error",this._handleErrorProxy,false);this._request.addEventListener("timeout",this._handleTimeoutProxy,false);this._request.addEventListener("load",this._handleLoadProxy,false);this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,false);if(this._xhrLevel==1){this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout)}try{if(!this._item.values||this._item.method==createjs.AbstractLoader.GET){this._request.send()}else if(this._item.method==createjs.AbstractLoader.POST){this._request.send(createjs.RequestUtils.formatQueryString(this._item.values))}}catch(error){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,error))}};p.setResponseType=function(a){this._request.responseType=a};p.getAllResponseHeaders=function(){if(this._request.getAllResponseHeaders instanceof Function){return this._request.getAllResponseHeaders()}else{return null}};p.getResponseHeader=function(a){if(this._request.getResponseHeader instanceof Function){return this._request.getResponseHeader(a)}else{return null}};p._handleProgress=function(a){if(!a||a.loaded>0&&a.total==0){return}var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)};p._handleLoadStart=function(a){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};p._handleAbort=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))};p._handleError=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent(a.message))};p._handleReadyStateChange=function(a){if(this._request.readyState==4){this._handleLoad()}};p._handleLoad=function(a){if(this.loaded){return}this.loaded=true;var b=this._checkError();if(b){this._handleError(b);return}this._response=this._getResponse();this._clean();this.dispatchEvent(new createjs.Event("complete"))};p._handleTimeout=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))};p._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return new Error(a)}return null};p._getResponse=function(){if(this._response!=null){return this._response}if(this._request.response!=null){return this._request.response}try{if(this._request.responseText!=null){return this._request.responseText}}catch(e){}try{if(this._request.responseXML!=null){return this._request.responseXML}}catch(e){}return null};p._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a);var c={};var d=null;if(window.XMLHttpRequest){d=new XMLHttpRequest();if(b&&d.withCredentials===undefined&&window.XDomainRequest){d=new XDomainRequest()}}else{for(var i=0,l=s.ACTIVEX_VERSIONS.length;i<l;i++){var f=s.ACTIVEX_VERSIONS[i];try{d=new ActiveXObject(axVersions);break}catch(e){}}if(d==null){return false}}if(a.mimeType==null&&createjs.RequestUtils.isText(a.type)){a.mimeType="text/plain; charset=utf-8"}if(a.mimeType&&d.overrideMimeType){d.overrideMimeType(a.mimeType)}this._xhrLevel=(typeof d.responseType==="string")?2:1;var g=null;if(a.method==createjs.AbstractLoader.GET){g=createjs.RequestUtils.buildPath(a.src,a.values)}else{g=a.src}d.open(a.method||createjs.AbstractLoader.GET,g,true);if(b&&d instanceof XMLHttpRequest&&this._xhrLevel==1){c["Origin"]=location.origin}if(a.values&&a.method==createjs.AbstractLoader.POST){c["Content-Type"]="application/x-www-form-urlencoded"}if(!b&&!c["X-Requested-With"]){c["X-Requested-With"]="XMLHttpRequest"}if(a.headers){for(var n in a.headers){c[n]=a.headers[n]}}for(n in c){d.setRequestHeader(n,c[n])}if(d instanceof XMLHttpRequest&&a.withCredentials!==undefined){d.withCredentials=a.withCredentials}this._request=d;return true};p._clean=function(){clearTimeout(this._loadTimeout);this._request.removeEventListener("loadstart",this._handleLoadStartProxy);this._request.removeEventListener("progress",this._handleProgressProxy);this._request.removeEventListener("abort",this._handleAbortProxy);this._request.removeEventListener("error",this._handleErrorProxy);this._request.removeEventListener("timeout",this._handleTimeoutProxy);this._request.removeEventListener("load",this._handleLoadProxy);this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)};p.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(XHRRequest,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){"use strict";function SoundLoader(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND);if(createjs.RequestUtils.isAudioTag(a)){this._tag=a}else if(createjs.RequestUtils.isAudioTag(a.src)){this._tag=a}else if(createjs.RequestUtils.isAudioTag(a.tag)){this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src}if(this._tag!=null){this._preferXHR=false}};var p=createjs.extend(SoundLoader,createjs.AbstractMediaLoader);var s=SoundLoader;s.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND};p._createTag=function(a){var b=document.createElement("audio");b.autoplay=false;b.preload="none";b.src=a;return b};createjs.SoundLoader=createjs.promote(SoundLoader,"AbstractMediaLoader")}());this.createjs=this.createjs||{};(function(){"use strict";var c=function(){this.interrupt=null;this.delay=null;this.offset=null;this.loop=null;this.volume=null;this.pan=null;this.startTime=null;this.duration=null};var p=c.prototype={};var s=c;s.create=function(a){if(a instanceof s||a instanceof Object){var b=new createjs.PlayPropsConfig();b.set(a);return b}else{throw new Error("Type not recognized.");}};p.set=function(a){for(var n in a){this[n]=a[n]}return this};p.toString=function(){return"[PlayPropsConfig]"};createjs.PlayPropsConfig=s}());this.createjs=this.createjs||{};(function(){"use strict";function Sound(){throw"Sound cannot be instantiated";}var s=Sound;s.INTERRUPT_ANY="any";s.INTERRUPT_EARLY="early";s.INTERRUPT_LATE="late";s.INTERRUPT_NONE="none";s.PLAY_INITED="playInited";s.PLAY_SUCCEEDED="playSucceeded";s.PLAY_INTERRUPTED="playInterrupted";s.PLAY_FINISHED="playFinished";s.PLAY_FAILED="playFailed";s.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"];s.EXTENSION_MAP={m4a:"mp4"};s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;s.defaultInterruptBehavior=s.INTERRUPT_NONE;s.alternateExtensions=[];s.activePlugin=null;s._masterVolume=1;Object.defineProperty(s,"volume",{get:function(){return this._masterVolume},set:function(a){if(Number(a)==null){return false}a=Math.max(0,Math.min(1,a));s._masterVolume=a;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a)){var b=this._instances;for(var i=0,l=b.length;i<l;i++){b[i].setMasterVolume(a)}}}});s._masterMute=false;Object.defineProperty(s,"muted",{get:function(){return this._masterMute},set:function(a){if(a==null){return false}this._masterMute=a;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a)){var b=this._instances;for(var i=0,l=b.length;i<l;i++){b[i].setMasterMute(a)}}return true}});Object.defineProperty(s,"capabilities",{get:function(){if(s.activePlugin==null){return null}return s.activePlugin._capabilities},set:function(a){return false}});s._pluginsRegistered=false;s._lastID=0;s._instances=[];s._idHash={};s._preloadHash={};s._defaultPlayPropsHash={};s.addEventListener=null;s.removeEventListener=null;s.removeAllEventListeners=null;s.dispatchEvent=null;s.hasEventListener=null;s._listeners=null;createjs.EventDispatcher.initialize(s);s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}};s._handleLoadComplete=function(a){var b=a.target.getItem().src;if(!s._preloadHash[b]){return}for(var i=0,l=s._preloadHash[b].length;i<l;i++){var c=s._preloadHash[b][i];s._preloadHash[b][i]=true;if(!s.hasEventListener("fileload")){continue}var a=new createjs.Event("fileload");a.src=c.src;a.id=c.id;a.data=c.data;a.sprite=c.sprite;s.dispatchEvent(a)}};s._handleLoadError=function(a){var b=a.target.getItem().src;if(!s._preloadHash[b]){return}for(var i=0,l=s._preloadHash[b].length;i<l;i++){var c=s._preloadHash[b][i];s._preloadHash[b][i]=false;if(!s.hasEventListener("fileerror")){continue}var a=new createjs.Event("fileerror");a.src=c.src;a.id=c.id;a.data=c.data;a.sprite=c.sprite;s.dispatchEvent(a)}};s._registerPlugin=function(a){if(a.isSupported()){s.activePlugin=new a();return true}return false};s.registerPlugins=function(a){s._pluginsRegistered=true;for(var i=0,l=a.length;i<l;i++){if(s._registerPlugin(a[i])){return true}}return false};s.initializeDefaultPlugins=function(){if(s.activePlugin!=null){return true}if(s._pluginsRegistered){return false}if(s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])){return true}return false};s.isReady=function(){return(s.activePlugin!=null)};s.getCapabilities=function(){if(s.activePlugin==null){return null}return s.activePlugin._capabilities};s.getCapability=function(a){if(s.activePlugin==null){return null}return s.activePlugin._capabilities[a]};s.initLoad=function(a){return s._registerSound(a)};s._registerSound=function(a){if(!s.initializeDefaultPlugins()){return false}var b;if(a.src instanceof Object){b=s._parseSrc(a.src);b.src=a.path+b.src}else{b=s._parsePath(a.src)}if(b==null){return false}a.src=b.src;a.type="sound";var c=a.data;var d=null;if(c!=null){if(!isNaN(c.channels)){d=parseInt(c.channels)}else if(!isNaN(c)){d=parseInt(c)}if(c.audioSprite){var e;for(var i=c.audioSprite.length;i--;){e=c.audioSprite[i];s._idHash[e.id]={src:a.src,startTime:parseInt(e.startTime),duration:parseInt(e.duration)};if(e.defaultPlayProps){s._defaultPlayPropsHash[e.id]=createjs.PlayPropsConfig.create(e.defaultPlayProps)}}}}if(a.id!=null){s._idHash[a.id]=a}var f=s.activePlugin.register(a);SoundChannel.create(a.src,d);if(c==null||!isNaN(c)){a.data=d||SoundChannel.maxPerChannel()}else{a.data.channels=d||SoundChannel.maxPerChannel()}if(f.type){a.type=f.type}if(a.defaultPlayProps){s._defaultPlayPropsHash[a.src]=createjs.PlayPropsConfig.create(a.defaultPlayProps)}return f};s.registerSound=function(a,b,c,d,e){var f={src:a,id:b,data:c,defaultPlayProps:e};if(a instanceof Object&&a.src){d=b;f=a}f=createjs.LoadItem.create(f);f.path=d;if(d!=null&&!(f.src instanceof Object)){f.src=d+a}var g=s._registerSound(f);if(!g){return false}if(!s._preloadHash[f.src]){s._preloadHash[f.src]=[]}s._preloadHash[f.src].push(f);if(s._preloadHash[f.src].length==1){g.on("complete",createjs.proxy(this._handleLoadComplete,this));g.on("error",createjs.proxy(this._handleLoadError,this));s.activePlugin.preload(g)}else{if(s._preloadHash[f.src][0]==true){return true}}return f};s.registerSounds=function(a,b){var c=[];if(a.path){if(!b){b=a.path}else{b=b+a.path}a=a.manifest}for(var i=0,l=a.length;i<l;i++){c[i]=createjs.Sound.registerSound(a[i].src,a[i].id,a[i].data,b,a[i].defaultPlayProps)}return c};s.removeSound=function(a,b){if(s.activePlugin==null){return false}if(a instanceof Object&&a.src){a=a.src}var c;if(a instanceof Object){c=s._parseSrc(a)}else{a=s._getSrcById(a).src;c=s._parsePath(a)}if(c==null){return false}a=c.src;if(b!=null){a=b+a}for(var d in s._idHash){if(s._idHash[d].src==a){delete(s._idHash[d])}}SoundChannel.removeSrc(a);delete(s._preloadHash[a]);s.activePlugin.removeSound(a);return true};s.removeSounds=function(a,b){var c=[];if(a.path){if(!b){b=a.path}else{b=b+a.path}a=a.manifest}for(var i=0,l=a.length;i<l;i++){c[i]=createjs.Sound.removeSound(a[i].src,b)}return c};s.removeAllSounds=function(){s._idHash={};s._preloadHash={};SoundChannel.removeAll();if(s.activePlugin){s.activePlugin.removeAllSounds()}};s.loadComplete=function(a){if(!s.isReady()){return false}var b=s._parsePath(a);if(b){a=s._getSrcById(b.src).src}else{a=s._getSrcById(a).src}if(s._preloadHash[a]==undefined){return false}return(s._preloadHash[a][0]==true)};s._parsePath=function(a){if(typeof(a)!="string"){a=a.toString()}var b=a.match(s.FILE_PATTERN);if(b==null){return false}var d=b[4];var e=b[5];var c=s.capabilities;var i=0;while(!c[e]){e=s.alternateExtensions[i++];if(i>s.alternateExtensions.length){return null}}a=a.replace("."+b[5],"."+e);var f={name:d,src:a,extension:e};return f};s._parseSrc=function(a){var b={name:undefined,src:undefined,extension:undefined};var c=s.capabilities;for(var d in a){if(a.hasOwnProperty(d)&&c[d]){b.src=a[d];b.extension=d;break}}if(!b.src){return false}var i=b.src.lastIndexOf("/");if(i!=-1){b.name=b.src.slice(i+1)}else{b.name=b.src}return b};s.play=function(a,b,c,d,e,f,g,h,i){var j;if(b instanceof Object||b instanceof createjs.PlayPropsConfig){j=createjs.PlayPropsConfig.create(b)}else{j=createjs.PlayPropsConfig.create({interrupt:b,delay:c,offset:d,loop:e,volume:f,pan:g,startTime:h,duration:i})}var k=s.createInstance(a,j.startTime,j.duration);var l=s._playInstance(k,j);if(!l){k._playFailed()}return k};s.createInstance=function(a,b,c){if(!s.initializeDefaultPlugins()){return new createjs.DefaultSoundInstance(a,b,c)}var d=s._defaultPlayPropsHash[a];var e=s._getSrcById(a);if(e.id===undefined)e=s._parsePath(e.src);var f=null;if(e!=null&&e.src!=null){SoundChannel.create(e.src);if(b==null){b=a.startTime}f=s.activePlugin.create(e.src,b,c||a.duration);d=d||s._defaultPlayPropsHash[e.src];if(d){f.applyPlayProps(d)}}else{f=new createjs.DefaultSoundInstance(a,b,c)}f.uniqueId=s._lastID++;return f};s.stop=function(){var a=this._instances;for(var i=a.length;i--;){a[i].stop()}};s.setVolume=function(a){if(Number(a)==null){return false}a=Math.max(0,Math.min(1,a));s._masterVolume=a;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a)){var b=this._instances;for(var i=0,l=b.length;i<l;i++){b[i].setMasterVolume(a)}}};s.getVolume=function(){return this._masterVolume};s.setMute=function(a){if(a==null){return false}this._masterMute=a;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a)){var b=this._instances;for(var i=0,l=b.length;i<l;i++){b[i].setMasterMute(a)}}return true};s.getMute=function(){return this._masterMute};s.setDefaultPlayProps=function(a,b){a=s._getSrcById(a);s._defaultPlayPropsHash[s._parsePath(a.src).src]=createjs.PlayPropsConfig.create(b)};s.getDefaultPlayProps=function(a){a=s._getSrcById(a);return s._defaultPlayPropsHash[s._parsePath(a.src).src]};s._playInstance=function(a,b){var c=s._defaultPlayPropsHash[a.src]||{};if(b.interrupt==null){b.interrupt=c.interrupt||s.defaultInterruptBehavior};if(b.delay==null){b.delay=c.delay||0}if(b.offset==null){b.offset=a.getPosition()}if(b.loop==null){b.loop=a.loop}if(b.volume==null){b.volume=a.volume}if(b.pan==null){b.pan=a.pan}if(b.delay==0){var d=s._beginPlaying(a,b);if(!d){return false}}else{var e=setTimeout(function(){s._beginPlaying(a,b)},b.delay);a.delayTimeoutId=e}this._instances.push(a);return true};s._beginPlaying=function(a,b){if(!SoundChannel.add(a,b.interrupt)){return false}var c=a._beginPlaying(b);if(!c){var d=createjs.indexOf(this._instances,a);if(d>-1){this._instances.splice(d,1)}return false}return true};s._getSrcById=function(a){return s._idHash[a]||{src:a}};s._playFinished=function(a){SoundChannel.remove(a);var b=createjs.indexOf(this._instances,a);if(b>-1){this._instances.splice(b,1)}};createjs.Sound=Sound;function SoundChannel(a,b){this.init(a,b)}SoundChannel.channels={};SoundChannel.create=function(a,b){var c=SoundChannel.get(a);if(c==null){SoundChannel.channels[a]=new SoundChannel(a,b);return true}return false};SoundChannel.removeSrc=function(a){var b=SoundChannel.get(a);if(b==null){return false}b._removeAll();delete(SoundChannel.channels[a]);return true};SoundChannel.removeAll=function(){for(var a in SoundChannel.channels){SoundChannel.channels[a]._removeAll()}SoundChannel.channels={}};SoundChannel.add=function(a,b){var c=SoundChannel.get(a.src);if(c==null){return false}return c._add(a,b)};SoundChannel.remove=function(a){var b=SoundChannel.get(a.src);if(b==null){return false}b._remove(a);return true};SoundChannel.maxPerChannel=function(){return p.maxDefault};SoundChannel.get=function(a){return SoundChannel.channels[a]};var p=SoundChannel.prototype;p.constructor=SoundChannel;p.src=null;p.max=null;p.maxDefault=100;p.length=0;p.init=function(a,b){this.src=a;this.max=b||this.maxDefault;if(this.max==-1){this.max=this.maxDefault}this._instances=[]};p._get=function(a){return this._instances[a]};p._add=function(a,b){if(!this._getSlot(b,a)){return false}this._instances.push(a);this.length++;return true};p._remove=function(a){var b=createjs.indexOf(this._instances,a);if(b==-1){return false}this._instances.splice(b,1);this.length--;return true};p._removeAll=function(){for(var i=this.length-1;i>=0;i--){this._instances[i].stop()}};p._getSlot=function(a,b){var c,replacement;if(a!=Sound.INTERRUPT_NONE){replacement=this._get(0);if(replacement==null){return true}}for(var i=0,l=this.max;i<l;i++){c=this._get(i);if(c==null){return true}if(c.playState==Sound.PLAY_FINISHED||c.playState==Sound.PLAY_INTERRUPTED||c.playState==Sound.PLAY_FAILED){replacement=c;break}if(a==Sound.INTERRUPT_NONE){continue}if((a==Sound.INTERRUPT_EARLY&&c.getPosition()<replacement.getPosition())||(a==Sound.INTERRUPT_LATE&&c.getPosition()>replacement.getPosition())){replacement=c}}if(replacement!=null){replacement._interrupt();this._remove(replacement);return true}return false};p.toString=function(){return"[Sound SoundChannel]"}}());this.createjs=this.createjs||{};(function(){"use strict";var h=function(a,b,c,d){this.EventDispatcher_constructor();this.src=a;this.uniqueId=-1;this.playState=null;this.delayTimeoutId=null;this._volume=1;Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume});this._pan=0;Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan});this._startTime=Math.max(0,b||0);Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime});this._duration=Math.max(0,c||0);Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration});this._playbackResource=null;Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource});if(d!==false&&d!==true){this.setPlaybackResource(d)}this._position=0;Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition});this._loop=0;Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop});this._muted=false;Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted});this._paused=false;Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})};var p=createjs.extend(h,createjs.EventDispatcher);p.play=function(a,b,c,d,e,f){var g;if(a instanceof Object||a instanceof createjs.PlayPropsConfig){g=createjs.PlayPropsConfig.create(a)}else{g=createjs.PlayPropsConfig.create({interrupt:a,delay:b,offset:c,loop:d,volume:e,pan:f})}if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this.applyPlayProps(g);if(this._paused){this.setPaused(false)}return}this._cleanUp();createjs.Sound._playInstance(this,g);return this};p.stop=function(){this._position=0;this._paused=false;this._handleStop();this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;return this};p.destroy=function(){this._cleanUp();this.src=null;this.playbackResource=null;this.removeAllEventListeners()};p.applyPlayProps=function(a){if(a.offset!=null){this.setPosition(a.offset)}if(a.loop!=null){this.setLoop(a.loop)}if(a.volume!=null){this.setVolume(a.volume)}if(a.pan!=null){this.setPan(a.pan)}if(a.startTime!=null){this.setStartTime(a.startTime);this.setDuration(a.duration)}return this};p.toString=function(){return"[AbstractSoundInstance]"};p.getPaused=function(){return this._paused};p.setPaused=function(a){if((a!==true&&a!==false)||this._paused==a){return}if(a==true&&this.playState!=createjs.Sound.PLAY_SUCCEEDED){return}this._paused=a;if(a){this._pause()}else{this._resume()}clearTimeout(this.delayTimeoutId);return this};p.setVolume=function(a){if(a==this._volume){return this}this._volume=Math.max(0,Math.min(1,a));if(!this._muted){this._updateVolume()}return this};p.getVolume=function(){return this._volume};p.setMuted=function(a){if(a!==true&&a!==false){return}this._muted=a;this._updateVolume();return this};p.getMuted=function(){return this._muted};p.setPan=function(a){if(a==this._pan){return this}this._pan=Math.max(-1,Math.min(1,a));this._updatePan();return this};p.getPan=function(){return this._pan};p.getPosition=function(){if(!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this._position=this._calculateCurrentPosition()}return this._position};p.setPosition=function(a){this._position=Math.max(0,a);if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._updatePosition()}return this};p.getStartTime=function(){return this._startTime};p.setStartTime=function(a){if(a==this._startTime){return this}this._startTime=Math.max(0,a||0);this._updateStartTime();return this};p.getDuration=function(){return this._duration};p.setDuration=function(a){if(a==this._duration){return this}this._duration=Math.max(0,a||0);this._updateDuration();return this};p.setPlaybackResource=function(a){this._playbackResource=a;if(this._duration==0){this._setDurationFromSource()}return this};p.getPlaybackResource=function(){return this._playbackResource};p.getLoop=function(){return this._loop};p.setLoop=function(a){if(this._playbackResource!=null){if(this._loop!=0&&a==0){this._removeLooping(a)}else if(this._loop==0&&a!=0){this._addLooping(a)}}this._loop=a};p._sendEvent=function(a){var b=new createjs.Event(a);this.dispatchEvent(b)};p._cleanUp=function(){clearTimeout(this.delayTimeoutId);this._handleCleanUp();this._paused=false;createjs.Sound._playFinished(this)};p._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._sendEvent("interrupted")};p._beginPlaying=function(a){this.setPosition(a.offset);this.setLoop(a.loop);this.setVolume(a.volume);this.setPan(a.pan);if(a.startTime!=null){this.setStartTime(a.startTime);this.setDuration(a.duration)}if(this._playbackResource!=null&&this._position<this._duration){this._paused=false;this._handleSoundReady();this.playState=createjs.Sound.PLAY_SUCCEEDED;this._sendEvent("succeeded");return true}else{this._playFailed();return false}};p._playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;this._sendEvent("failed")};p._handleSoundComplete=function(a){this._position=0;if(this._loop!=0){this._loop--;this._handleLoop();this._sendEvent("loop");return}this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;this._sendEvent("complete")};p._handleSoundReady=function(){};p._updateVolume=function(){};p._updatePan=function(){};p._updateStartTime=function(){};p._updateDuration=function(){};p._setDurationFromSource=function(){};p._calculateCurrentPosition=function(){};p._updatePosition=function(){};p._removeLooping=function(a){};p._addLooping=function(a){};p._pause=function(){};p._resume=function(){};p._handleStop=function(){};p._handleCleanUp=function(){};p._handleLoop=function(){};createjs.AbstractSoundInstance=createjs.promote(h,"EventDispatcher");createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}());this.createjs=this.createjs||{};(function(){"use strict";var e=function(){this._capabilities=null;this._loaders={};this._audioSources={};this._soundInstances={};this._volume=1;this._loaderClass;this._soundInstanceClass};var p=e.prototype;e._capabilities=null;e.isSupported=function(){return true};p.register=function(a){var b=this._loaders[a.src];if(b&&!b.canceled){return this._loaders[a.src]}this._audioSources[a.src]=true;this._soundInstances[a.src]=[];b=new this._loaderClass(a);b.on("complete",createjs.proxy(this._handlePreloadComplete,this));this._loaders[a.src]=b;return b};p.preload=function(a){a.on("error",createjs.proxy(this._handlePreloadError,this));a.load()};p.isPreloadStarted=function(a){return(this._audioSources[a]!=null)};p.isPreloadComplete=function(a){return(!(this._audioSources[a]==null||this._audioSources[a]==true))};p.removeSound=function(a){if(!this._soundInstances[a]){return}for(var i=this._soundInstances[a].length;i--;){var b=this._soundInstances[a][i];b.destroy()}delete(this._soundInstances[a]);delete(this._audioSources[a]);if(this._loaders[a]){this._loaders[a].destroy()}delete(this._loaders[a])};p.removeAllSounds=function(){for(var a in this._audioSources){this.removeSound(a)}};p.create=function(a,b,c){if(!this.isPreloadStarted(a)){this.preload(this.register(a))}var d=new this._soundInstanceClass(a,b,c,this._audioSources[a]);this._soundInstances[a].push(d);return d};p.setVolume=function(a){this._volume=a;this._updateVolume();return true};p.getVolume=function(){return this._volume};p.setMute=function(a){this._updateVolume();return true};p.toString=function(){return"[AbstractPlugin]"};p._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;for(var i=0,l=this._soundInstances[b].length;i<l;i++){var c=this._soundInstances[b][i];c.setPlaybackResource(this._audioSources[b])}};p._handlePreloadError=function(a){};p._updateVolume=function(){};createjs.AbstractPlugin=e}());this.createjs=this.createjs||{};(function(){"use strict";function Loader(a){this.AbstractLoader_constructor(a,true,createjs.AbstractLoader.SOUND)};var p=createjs.extend(Loader,createjs.AbstractLoader);Loader.context=null;p.toString=function(){return"[WebAudioLoader]"};p._createRequest=function(){this._request=new createjs.XHRRequest(this._item,false);this._request.setResponseType("arraybuffer")};p._sendComplete=function(a){Loader.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))};p._handleAudioDecoded=function(a){this._result=a;this.AbstractLoader__sendComplete()};createjs.WebAudioLoader=createjs.promote(Loader,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){"use strict";function WebAudioSoundInstance(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d);this.gainNode=s.context.createGain();this.panNode=s.context.createPanner();this.panNode.panningModel=s._panningModel;this.panNode.connect(this.gainNode);this.sourceNode=null;this._soundCompleteTimeout=null;this._sourceNodeNext=null;this._playbackStartTime=0;this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};var p=createjs.extend(WebAudioSoundInstance,createjs.AbstractSoundInstance);var s=WebAudioSoundInstance;s.context=null;s.destinationNode=null;s._panningModel="equalpower";p.destroy=function(){this.AbstractSoundInstance_destroy();this.panNode.disconnect(0);this.panNode=null;this.gainNode.disconnect(0);this.gainNode=null};p.toString=function(){return"[WebAudioSoundInstance]"};p._updatePan=function(){this.panNode.setPosition(this._pan,0,-0.5)};p._removeLooping=function(a){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)};p._addLooping=function(a){if(this.playState!=createjs.Sound.PLAY_SUCCEEDED){return}this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)};p._setDurationFromSource=function(){this._duration=this.playbackResource.duration*1000};p._handleCleanUp=function(){if(this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)}if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0};p._cleanUpAudioNode=function(a){if(a){a.stop(0);a.disconnect(0);a=null}return a};p._handleSoundReady=function(a){this.gainNode.connect(s.destinationNode);var b=this._duration*0.001;var c=this._position*0.001;if(c>b){c=b}this.sourceNode=this._createAndPlayAudioNode((s.context.currentTime-b),c);this._playbackStartTime=this.sourceNode.startTime-c;this._soundCompleteTimeout=setTimeout(this._endedHandler,(b-c)*1000);if(this._loop!=0){this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)}};p._createAndPlayAudioNode=function(a,b){var c=s.context.createBufferSource();c.buffer=this.playbackResource;c.connect(this.panNode);var d=this._duration*0.001;c.startTime=a+d;c.start(c.startTime,b+(this._startTime*0.001),d-b);return c};p._pause=function(){this._position=(s.context.currentTime-this._playbackStartTime)*1000;this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._soundCompleteTimeout)};p._resume=function(){this._handleSoundReady()};p._updateVolume=function(){var a=this._muted?0:this._volume;if(a!=this.gainNode.gain.value){this.gainNode.gain.value=a}};p._calculateCurrentPosition=function(){return((s.context.currentTime-this._playbackStartTime)*1000)};p._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout);if(!this._paused){this._handleSoundReady()}};p._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode);this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)};p._updateDuration=function(){if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._pause();this._resume()}};createjs.WebAudioSoundInstance=createjs.promote(WebAudioSoundInstance,"AbstractSoundInstance")}());this.createjs=this.createjs||{};(function(){"use strict";function WebAudioPlugin(){this.AbstractPlugin_constructor();this._panningModel=s._panningModel;this.context=s.context;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode);createjs.WebAudioSoundInstance.destinationNode=this.gainNode;this._capabilities=s._capabilities;this._loaderClass=createjs.WebAudioLoader;this._soundInstanceClass=createjs.WebAudioSoundInstance;this._addPropsToClasses()}var p=createjs.extend(WebAudioPlugin,createjs.AbstractPlugin);var s=WebAudioPlugin;s._capabilities=null;s._panningModel="equalpower";s.context=null;s.isSupported=function(){var a=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;if(location.protocol=="file:"&&!a&&!this._isFileXHRSupported()){return false}s._generateCapabilities();if(s.context==null){return false}return true};s.playEmptySound=function(){if(s.context==null){return}var a=s.context.createBufferSource();a.buffer=s.context.createBuffer(1,1,22050);a.connect(s.context.destination);a.start(0,0,0)};s._isFileXHRSupported=function(){var a=true;var b=new XMLHttpRequest();try{b.open("GET","WebAudioPluginTest.fail",false)}catch(error){a=false;return a}b.onerror=function(){a=false};b.onload=function(){a=this.status==404||(this.status==200||(this.status==0&&this.response!=""))};try{b.send()}catch(error){a=false}return a};s._generateCapabilities=function(){if(s._capabilities!=null){return}var t=document.createElement("audio");if(t.canPlayType==null){return null}if(s.context==null){if(window.AudioContext){s.context=new AudioContext()}else if(window.webkitAudioContext){s.context=new webkitAudioContext()}else{return null}}s._compatibilitySetUp();s.playEmptySound();s._capabilities={panning:true,volume:true,tracks:-1};var a=createjs.Sound.SUPPORTED_EXTENSIONS;var b=createjs.Sound.EXTENSION_MAP;for(var i=0,l=a.length;i<l;i++){var c=a[i];var d=b[c]||c;s._capabilities[c]=(t.canPlayType("audio/"+c)!="no"&&t.canPlayType("audio/"+c)!="")||(t.canPlayType("audio/"+d)!="no"&&t.canPlayType("audio/"+d)!="")}if(s.context.destination.numberOfChannels<2){s._capabilities.panning=false}};s._compatibilitySetUp=function(){s._panningModel="equalpower";if(s.context.createGain){return}s.context.createGain=s.context.createGainNode;var a=s.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn;a.__proto__.stop=a.__proto__.noteOff;s._panningModel=0};p.toString=function(){return"[WebAudioPlugin]"};p._addPropsToClasses=function(){var c=this._soundInstanceClass;c.context=this.context;c.destinationNode=this.gainNode;c._panningModel=this._panningModel;this._loaderClass.context=this.context};p._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;if(a!=this.gainNode.gain.value){this.gainNode.gain.value=a}};createjs.WebAudioPlugin=createjs.promote(WebAudioPlugin,"AbstractPlugin")}());this.createjs=this.createjs||{};(function(){"use strict";function HTMLAudioTagPool(){throw"HTMLAudioTagPool cannot be instantiated";}var s=HTMLAudioTagPool;s._tags={};s._tagPool=new TagPool();s._tagUsed={};s.get=function(a){var t=s._tags[a];if(t==null){t=s._tags[a]=s._tagPool.get();t.src=a}else{if(s._tagUsed[a]){t=s._tagPool.get();t.src=a}else{s._tagUsed[a]=true}}return t};s.set=function(a,b){if(b==s._tags[a]){s._tagUsed[a]=false}else{s._tagPool.set(b)}};s.remove=function(a){var b=s._tags[a];if(b==null){return false}s._tagPool.set(b);delete(s._tags[a]);delete(s._tagUsed[a]);return true};s.getDuration=function(a){var t=s._tags[a];if(t==null){return 0}return t.duration*1000};createjs.HTMLAudioTagPool=HTMLAudioTagPool;function TagPool(a){this._tags=[]};var p=TagPool.prototype;p.constructor=TagPool;p.get=function(){var a;if(this._tags.length==0){a=this._createTag()}else{a=this._tags.pop()}if(a.parentNode==null){document.body.appendChild(a)}return a};p.set=function(a){var b=createjs.indexOf(this._tags,a);if(b==-1){this._tags.src=null;this._tags.push(a)}};p.toString=function(){return"[TagPool]"};p._createTag=function(){var a=document.createElement("audio");a.autoplay=false;a.preload="none";return a}}());this.createjs=this.createjs||{};(function(){"use strict";function HTMLAudioSoundInstance(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d);this._audioSpriteStopTime=null;this._delayTimeoutId=null;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleTagReady,this);this._stalledHandler=createjs.proxy(this._playFailed,this);this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this._loopHandler=createjs.proxy(this._handleSoundComplete,this);if(c){this._audioSpriteStopTime=(b+c)*0.001}else{this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}}var p=createjs.extend(HTMLAudioSoundInstance,createjs.AbstractSoundInstance);p.setMasterVolume=function(a){this._updateVolume()};p.setMasterMute=function(a){this._updateVolume()};p.toString=function(){return"[HTMLAudioSoundInstance]"};p._removeLooping=function(){if(this._playbackResource==null){return}this._playbackResource.loop=false;this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)};p._addLooping=function(){if(this._playbackResource==null||this._audioSpriteStopTime){return}this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.loop=true};p._handleCleanUp=function(){var a=this._playbackResource;if(a!=null){a.pause();a.loop=false;a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);a.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false);try{a.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,a);this._playbackResource=null}};p._beginPlaying=function(a){this._playbackResource=createjs.HTMLAudioTagPool.get(this.src);return this.AbstractSoundInstance__beginPlaying(a)};p._handleSoundReady=function(a){if(this._playbackResource.readyState!==4){var b=this._playbackResource;b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);b.preload="auto";b.load();return}this._updateVolume();this._playbackResource.currentTime=(this._startTime+this._position)*0.001;if(this._audioSpriteStopTime){this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false)}else{this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);if(this._loop!=0){this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.loop=true}}this._playbackResource.play()};p._handleTagReady=function(a){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);this._handleSoundReady()};p._pause=function(){this._playbackResource.pause()};p._resume=function(){this._playbackResource.play()};p._updateVolume=function(){if(this._playbackResource!=null){var a=(this._muted||createjs.Sound._masterMute)?0:this._volume*createjs.Sound._masterVolume;if(a!=this._playbackResource.volume){this._playbackResource.volume=a}}};p._calculateCurrentPosition=function(){return(this._playbackResource.currentTime*1000)-this._startTime};p._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);try{this._playbackResource.currentTime=(this._position+this._startTime)*0.001}catch(error){this._handleSetPositionSeek(null)}};p._handleSetPositionSeek=function(a){if(this._playbackResource==null){return}this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)};p._handleAudioSpriteLoop=function(a){if(this._playbackResource.currentTime<=this._audioSpriteStopTime){return}this._playbackResource.pause();if(this._loop==0){this._handleSoundComplete(null)}else{this._position=0;this._loop--;this._playbackResource.currentTime=this._startTime*0.001;if(!this._paused){this._playbackResource.play()}this._sendEvent("loop")}};p._handleLoop=function(a){if(this._loop==0){this._playbackResource.loop=false;this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)}};p._updateStartTime=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*0.001;if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false)}};p._updateDuration=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*0.001;if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false)}};createjs.HTMLAudioSoundInstance=createjs.promote(HTMLAudioSoundInstance,"AbstractSoundInstance")}());this.createjs=this.createjs||{};(function(){"use strict";function HTMLAudioPlugin(){this.AbstractPlugin_constructor();this.defaultNumChannels=2;this._capabilities=s._capabilities;this._loaderClass=createjs.SoundLoader;this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var p=createjs.extend(HTMLAudioPlugin,createjs.AbstractPlugin);var s=HTMLAudioPlugin;s.MAX_INSTANCES=30;s._AUDIO_READY="canplaythrough";s._AUDIO_ENDED="ended";s._AUDIO_SEEKED="seeked";s._AUDIO_STALLED="stalled";s._TIME_UPDATE="timeupdate";s._capabilities=null;s.isSupported=function(){s._generateCapabilities();return(s._capabilities!=null)};s._generateCapabilities=function(){if(s._capabilities!=null){return}var t=document.createElement("audio");if(t.canPlayType==null){return null}s._capabilities={panning:false,volume:true,tracks:-1};var a=createjs.Sound.SUPPORTED_EXTENSIONS;var b=createjs.Sound.EXTENSION_MAP;for(var i=0,l=a.length;i<l;i++){var c=a[i];var d=b[c]||c;s._capabilities[c]=(t.canPlayType("audio/"+c)!="no"&&t.canPlayType("audio/"+c)!="")||(t.canPlayType("audio/"+d)!="no"&&t.canPlayType("audio/"+d)!="")}};p.register=function(a){var b=createjs.HTMLAudioTagPool.get(a.src);var c=this.AbstractPlugin_register(a);c.setTag(b);return c};p.removeSound=function(a){this.AbstractPlugin_removeSound(a);createjs.HTMLAudioTagPool.remove(a)};p.create=function(a,b,c){var d=this.AbstractPlugin_create(a,b,c);d.setPlaybackResource(null);return d};p.toString=function(){return"[HTMLAudioPlugin]"};p.setVolume=p.getVolume=p.setMute=null;createjs.HTMLAudioPlugin=createjs.promote(HTMLAudioPlugin,"AbstractPlugin")}());